<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <script src='https://unpkg.com/dplayer@1.27.1/dist/DPlayer.min.js'></script>
    <script src='https://unpkg.com/flv.js@1.6.2/dist/flv.min.js'></script>
    <style type='text/css'>body{margin:0 auto;}</style>
    <title>DPlayer FLV</title>
    <script>
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // Gunakan fungsi getParameterByName untuk mendapatkan nilai parameter 'video_url' dari URL
        var videoUrl = getParameterByName('video_url');
    </script>
</head>

<body>
    <div id="dplayer"></div>
    <script>
        const dp = new DPlayer({
            container: document.getElementById('dplayer'),
            live: true,
            autoplay:true,
            loop:true,
            video: {
                url: videoUrl, // Menggunakan nilai videoUrl yang didapat dari parameter URL
                type: 'flv',
            },
            pluginOptions: {
                flv: {
                    // refer to https://github.com/bilibili/flv.js/blob/master/docs/api.md#flvjscreateplayer
                    mediaDataSource: {
                        // mediaDataSource config
                    },
                    config: {
                        // config
                    },
                },
            },
        });
        console.log(dp.plugins.flv); // flv instance
    </script>
</body>

</html>
